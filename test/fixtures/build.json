{"id":7426,"project":{"id":119,"owner":"frigg","name":"frigg-hq","private":false,"approved":true},"result":{"id":7715,"coverage":"90.36","succeeded":true,"tasks":[{"succeeded":true,"task":"flake8","log":"","return_code":0,"pending":false},{"succeeded":true,"task":"isort -c -rc frigg","log":"","return_code":0,"pending":false},{"succeeded":true,"task":"tox","log":"py34 create: /root/builds/7426/.tox/py34\npy34 installdeps: -r/root/builds/7426/requirements/base.txt, coverage, responses, mockredispy\npy34 runtests: PYTHONHASHSEED='142008664'\npy34 runtests: commands[0] | make frigg/settings/local.py\ncp frigg/settings/local_dummy.py frigg/settings/local.py\npy34 runtests: commands[1] | coverage run --source=frigg /root/builds/7426/manage.py test -v 2\n/root/builds/7426/.tox/py34/lib/python3.4/site-packages/cachalot/cache.py:34: RemovedInDjango19Warning: 'get_cache' is deprecated in favor of 'caches'.\n  return get_django_cache(cache_alias)\n\nCreating test database for alias 'default' ('test_frigg')...\nOperations to perform:\n  Synchronize unmigrated apps: staticfiles, emoji, webhooks, cachalot, rest_framework, stats, django_extensions, flat, helpers, pipeline, messages\n  Apply all migrations: auth, default, sessions, contenttypes, authentication, builds, admin, deployments\nSynchronizing apps without migrations:\n  Creating tables...\n    Running deferred SQL...\n  Installing custom SQL...\nRunning migrations:\n  Rendering model states... DONE\n  Applying contenttypes.0001_initial... OK\n  Applying auth.0001_initial... OK\n  Applying authentication.0001_initial... OK\n  Applying admin.0001_initial... OK\n  Applying contenttypes.0002_remove_content_type_name... OK\n  Applying auth.0002_alter_permission_name_max_length... OK\n  Applying auth.0003_alter_user_email_max_length... OK\n  Applying auth.0004_alter_user_username_opts... OK\n  Applying auth.0005_alter_user_last_login_null... OK\n  Applying auth.0006_require_contenttypes_0002... OK\n  Applying authentication.0002_auto_20150402_0327... OK\n  Applying builds.0001_initial... OK\n  Applying builds.0002_auto_20141028_0710... OK\n  Applying builds.0003_auto_20141029_2158... OK\n  Applying builds.0004_auto_20141114_1336... OK\n  Applying builds.0005_auto_20141120_1221... OK\n  Applying builds.0006_buildresult_coverage... OK\n  Applying builds.0007_build_message... OK\n  Applying builds.0008_auto_20150216_0959... OK\n  Applying builds.0009_build_author... OK\n  Applying builds.0009_auto_20150222_2256... OK\n  Applying builds.0010_merge... OK\n  Applying builds.0011_auto_20150223_0442... OK\n  Applying builds.0012_remove_project_user... OK\n  Applying builds.0013_auto_20150325_2210... OK\n  Applying builds.0014_project_queue_name... OK\n  Applying builds.0015_remove_project_average_time... OK\n  Applying builds.0016_remove_buildresult_return_code... OK\n  Applying builds.0017_buildresult_still_running... OK\n  Applying builds.0018_auto_20150407_1855... OK\n  Applying builds.0019_auto_20150408_0658... OK\n  Applying builds.0020_auto_20150412_1200... OK\n  Applying builds.0021_remove_project_git_repository... OK\n  Applying builds.0020_project_can_deploy... OK\n  Applying builds.0022_merge... OK\n  Applying builds.0022_buildresult_setup_log... OK\n  Applying builds.0023_merge... OK\n  Applying default.0001_initial... OK\n  Applying default.0002_add_related_name... OK\n  Applying default.0003_alter_email_max_length... OK\n  Applying deployments.0001_initial... OK\n  Applying sessions.0001_initial...test_build_id_same_as_build_by_owner_name_build_number (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_build_404 (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_build_anonymous (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_build_authenticated (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_build_by_owner_name_build_number_404 (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_anonymous (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_authenticated (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_by_owner (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_by_owner_404 (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_by_owner_name (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_builds_by_owner_name_404 (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_post_not_allowed (frigg.api.test_views.BuildAPITestCase) ... ok\ntest_get_project_404 (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_get_project_anonymous (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_get_project_authenticated (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_get_projects_anonymous (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_get_projects_authenticated (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_post_not_allowed (frigg.api.test_views.ProjectAPITestCase) ... ok\ntest_404_report (frigg.api.test_views.ReportBuildAPITests) ... ok\ntest_coverage (frigg.api.test_views.ReportBuildAPITests) ... ok\ntest_double_report (frigg.api.test_views.ReportBuildAPITests) ... ok\ntest_report (frigg.api.test_views.ReportBuildAPITests) ... ok\ntest_report_pending (frigg.api.test_views.ReportBuildAPITests) ... ok\ntest_token_decorator (frigg.api.test_views.ReportBuildAPITests) ... skipped 'temporary turned off'\ntest_404_report (frigg.api.test_views.ReportDeploymentAPITests) ... ok\ntest_double_report (frigg.api.test_views.ReportDeploymentAPITests) ... ok\ntest_report (frigg.api.test_views.ReportDeploymentAPITests) ... ok\ntest_token_decorator (frigg.api.test_views.ReportDeploymentAPITests) ... skipped 'temporary turned off'\ntest_me_api_view (frigg.api.test_views.UserAPITests) ... ok\ntest_me_api_view_anonymous (frigg.api.test_views.UserAPITests) ... ok\ntest_me_api_view_not_staff (frigg.api.test_views.UserAPITests) ... ok\ntest_worker_token_required (frigg.authentication.test_decorators.DecoratorsTestCase) ... ok\ntest_github_token (frigg.authentication.test_models.UserTestCase) ... ok\ntest_update_repo_permissions (frigg.authentication.test_models.UserTestCase) ... ok\ntest_build_permitted_objects (frigg.builds.test_filters.BuildsFilterTests) ... ok\ntest_build_permitted_objects (frigg.builds.test_managers.PermittedObjectsTestCase) ... ok\ntest_build_result_permitted_objects (frigg.builds.test_managers.PermittedObjectsTestCase) ... ok\ntest_project_permitted_objects (frigg.builds.test_managers.PermittedObjectsTestCase) ... ok\ntest___str__ (frigg.builds.test_models.BuildResultTestCase) ... ok\ntest_coverage_diff (frigg.builds.test_models.BuildResultTestCase) ... ok\ntest_create_not_approved (frigg.builds.test_models.BuildResultTestCase) ... ok\ntest_evaluate_results (frigg.builds.test_models.BuildResultTestCase) ... ok\ntest_tasks (frigg.builds.test_models.BuildResultTestCase) ... ok\ntest___str__ (frigg.builds.test_models.BuildTestCase) ... ok\ntest_author_user (frigg.builds.test_models.BuildTestCase) ... ok\ntest_color (frigg.builds.test_models.BuildTestCase) ... ok\ntest_estimated_finish_time (frigg.builds.test_models.BuildTestCase) ... ok\ntest_handle_worker_report (frigg.builds.test_models.BuildTestCase) ... ok\ntest_handle_worker_report_still_running (frigg.builds.test_models.BuildTestCase) ... ok\ntest_has_timed_out (frigg.builds.test_models.BuildTestCase) ... ok\ntest_queue_object (frigg.builds.test_models.BuildTestCase) ... ok\ntest_rendered_message (frigg.builds.test_models.BuildTestCase) ... ok\ntest_send_webhook (frigg.builds.test_models.BuildTestCase) ... ok\ntest_short_message (frigg.builds.test_models.BuildTestCase) ... ok\ntest_start (frigg.builds.test_models.BuildTestCase) ... ok\ntest_start_not_approved (frigg.builds.test_models.BuildTestCase) ... ok\ntest_start_restart_should_not_have_end_time (frigg.builds.test_models.BuildTestCase) ... ok\ntest___str__ (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_auto_approval (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_average_time (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_clone_url (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_last_build_number (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_start (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_start_pull_request_with_earlier_build (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_update_members (frigg.builds.test_models.ProjectTestCase) ... ok\ntest_approve_project_404 (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_build_view (frigg.builds.test_views.BuildsViewTests) ... /root/builds/7426/.tox/py34/lib/python3.4/importlib/_bootstrap.py:321: RemovedInDjango19Warning: django.utils.importlib will be removed in Django 1.9.\n  return f(*args, **kwds)\n\nok\ntest_download_artifact (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_download_artifact_404 (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_last_build_view (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_overview_pagination (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_overview_view (frigg.builds.test_views.BuildsViewTests) ... ok\ntest_create_should_not_override_port_in_kwargs (frigg.deployments.test_managers.PRDeploymentManagerTests) ... ok\ntest_create_should_set_port_if_not_in_kwargs (frigg.deployments.test_managers.PRDeploymentManagerTests) ... ok\ntest_create_should_set_port_to_49152_if_it_is_to_high (frigg.deployments.test_managers.PRDeploymentManagerTests) ... ok\ntest_create_should_set_port_to_49152_if_it_is_to_low (frigg.deployments.test_managers.PRDeploymentManagerTests) ... ok\ntest___str__ (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_get_deployment_url (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_handle_report_should_save_log (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_handle_report_which_fails (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_handle_report_which_succeeded (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_handle_report_with_pending_result (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_is_pending_should_be_false_if_deploy_failed (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_is_pending_should_be_false_if_deploy_succeeded (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_is_pending_should_be_true (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_queue_object_should_contain_correct_information (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_tasks_with_empty_log (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_tasks_with_json_log (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_ttl (frigg.deployments.test_models.PRDeploymentTestCase) ... ok\ntest_coverage_color (frigg.helpers.test_badges.BadgeHelperTestCase) ... ok\ntest_is_retest_comment (frigg.helpers.test_common.HelperTestCase) ... ok\ntest__get_status_from_build (frigg.helpers.test_github.GithubHelpersTestCase) ... ok\ntest_get_pull_request_url (frigg.helpers.test_github.GithubHelpersTestCase) ... ok\ntest_project_permitted_objects (frigg.projects.test_filters.ProjectFilterTests) ... ok\ntest_project_permitted_objects (frigg.projects.test_managers.ProjectManagerTests) ... ok\ntest_404 (frigg.projects.test_views.BuildBadgeViewTests) ... ok\ntest_failure (frigg.projects.test_views.BuildBadgeViewTests) ... ok\ntest_success (frigg.projects.test_views.BuildBadgeViewTests) ... ok\ntest_404 (frigg.projects.test_views.CoverageBadgeViewTests) ... ok\ntest_coverage (frigg.projects.test_views.CoverageBadgeViewTests) ... ok\ntest_unknown (frigg.projects.test_views.CoverageBadgeViewTests) ... ok\ntest_approve_project_404 (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_approve_projects_post_view (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_approve_projects_triggers_build_last (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_approve_projects_view (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_organization_view (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_overview_pagination (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_project_view (frigg.projects.test_views.ProjectViewTests) ... ok\ntest_overview_anonymous (frigg.stats.test_views.StatsSmokeViewTestCase) ... ok\ntest_overview_regular_user (frigg.stats.test_views.StatsSmokeViewTestCase) ... ok\ntest_overview_staff_user (frigg.stats.test_views.StatsSmokeViewTestCase) ... ok\ntest_command (frigg.webhooks.test_commands.FetchWebhookPayloadCommandTests) ... ok\ntest_branch_push_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_force_push_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_issue_comment_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_issue_comment_handling_regular_comment (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_no_event (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_ping_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_ping_handling_of_organization_ping (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_pull_request_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_pull_request_handling_closed (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_pull_request_handling_labeled (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_pull_request_handling_message (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_pull_request_handling_open (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_push_delete (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_push_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_tag_push_handling (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\ntest_unknown_event (frigg.webhooks.test_views.GithubWebhookViewTests) ... ok\n\n----------------------------------------------------------------------\nRan 128 tests in 16.428s\n\nOK (skipped=2)\n OK\nDestroying test database for alias 'default' ('test_frigg')...\n___________________________________ summary ____________________________________\n  py34: commands succeeded\n  congratulations :)","return_code":0,"pending":false},{"succeeded":true,"task":"coverage report --fail-under=90","log":"Name                               Stmts   Miss  Cover   Missing\n----------------------------------------------------------------\nfrigg/__init__                         0      0   100%   \nfrigg/api/__init__                     0      0   100%   \nfrigg/api/permissions                  4      0   100%   \nfrigg/api/urls                         8      0   100%   \nfrigg/api/views                       65      1    98%   98\nfrigg/authentication/__init__          0      0   100%   \nfrigg/authentication/admin             6      0   100%   \nfrigg/authentication/decorators       13      0   100%   \nfrigg/authentication/models           21      0   100%   \nfrigg/authentication/serializers       6      0   100%   \nfrigg/builds/__init__                  0      0   100%   \nfrigg/builds/admin                    37      6    84%   29-32, 48-51\nfrigg/builds/filters                   5      0   100%   \nfrigg/builds/managers                 20      0   100%   \nfrigg/builds/models                  224      6    97%   224, 226, 246-248, 263\nfrigg/builds/serializers              22      0   100%   \nfrigg/builds/urls                      3      0   100%   \nfrigg/builds/views                    37      2    95%   14, 47\nfrigg/deployments/__init__             0      0   100%   \nfrigg/deployments/admin               13      3    77%   14-17\nfrigg/deployments/managers             9      0   100%   \nfrigg/deployments/models              47      3    94%   56-58\nfrigg/deployments/serializers          8      8     0%   1-12\nfrigg/helpers/__init__                 0      0   100%   \nfrigg/helpers/badges                  34      0   100%   \nfrigg/helpers/common                   3      0   100%   \nfrigg/helpers/github                  91     41    55%   25-27, 32, 41, 52-64, 68-76, 80, 84-92, 115-116, 123-126, 134, 136\nfrigg/projects/__init__                0      0   100%   \nfrigg/projects/filters                 5      0   100%   \nfrigg/projects/managers               12      0   100%   \nfrigg/projects/models                  1      0   100%   \nfrigg/projects/serializers             8      0   100%   \nfrigg/projects/urls                    3      0   100%   \nfrigg/projects/views                  48      2    96%   13, 35\nfrigg/stats/__init__                   0      0   100%   \nfrigg/stats/urls                       3      0   100%   \nfrigg/stats/views                     18      3    83%   23-25\nfrigg/urls                             6      0   100%   \nfrigg/utils/__init__                   0      0   100%   \nfrigg/utils/tests                     32      0   100%   \nfrigg/views                           13      6    54%   12, 17-21\nfrigg/webhooks/__init__                0      0   100%   \nfrigg/webhooks/events/__init__         0      0   100%   \nfrigg/webhooks/events/base            65      7    89%   22-23, 27, 46, 100-101, 132\nfrigg/webhooks/events/github          76      8    89%   18-19, 25-26, 32-33, 74, 86\nfrigg/webhooks/urls                    3      0   100%   \nfrigg/webhooks/views                  27      0   100%   \n----------------------------------------------------------------\nTOTAL                                996     96    90%   ","return_code":0,"pending":false},{"succeeded":true,"task":"coverage xml","log":"","return_code":0,"pending":false}],"setup_tasks":[],"still_running":false},"build_number":100,"branch":"master","pull_request_id":0,"sha":"da93fe044529c7493be7ed5404f01fe0c8ec6f89","start_time":"2015-06-06T07:54:22.277776Z","end_time":"2015-06-06T07:55:17.057096Z","short_message":"Add build to new deployment","message":"Add build to new deployment","author":"relekang","color":"green","pull_request_url":"https://github.com/frigg/frigg-hq","commit_url":"https://github.com/frigg/frigg-hq/commit/da93fe044529c7493be7ed5404f01fe0c8ec6f89/","deployment":null}